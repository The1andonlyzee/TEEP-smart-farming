<div style="width: 100%; height: 500px; background: #000; border-radius: 8px; overflow: hidden; position: relative;">
  <img id="camera-stream" 
       style="width: 100%; height: 100%; object-fit: contain;" 
       alt="Camera Stream" />
  <div id="status" style="position: absolute; top: 10px; left: 10px; background: rgba(255,152,0,0.9); color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; font-weight: bold;">
    Loading...
  </div>
</div>

<script>
  self.onInit = function() {
    var PC_IP = '192.168.0.100';  // ⚠️ CHANGE THIS
    var CAMERA_ENDPOINT = '/camera1';  // or /camera2
    var streamUrl = 'http://' + PC_IP + ':3000' + CAMERA_ENDPOINT;
    
    var img = document.getElementById('camera-stream');
    var status = document.getElementById('status');
    
    // Add timestamp to prevent caching
    img.src = streamUrl + '?t=' + Date.now();
    
    img.onload = function() {
      status.textContent = '● Live';
      status.style.background = 'rgba(76,175,80,0.9)';
      console.log('Camera stream loaded');
    };
    
    img.onerror = function() {
      status.textContent = '● Connection Failed';
      status.style.background = 'rgba(244,67,54,0.9)';
      console.error('Camera stream error');
      
      // Retry after 5 seconds
      setTimeout(function() {
        img.src = streamUrl + '?t=' + Date.now();
      }, 5000);
    };
  };
  
  self.onDestroy = function() {
    // Cleanup
    var img = document.getElementById('camera-stream');
    if (img) img.src = '';
  };
</script>
